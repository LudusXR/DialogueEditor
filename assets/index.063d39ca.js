import{d as B,c as g,a,b as fe,F as Ee,o as f,r as M,u as Ie,w as ke,e as me,f as A,g as ee,t as te,h as P,i as h,j as xe,n as qe,k as Y,v as ce,l as he,m as X,p as se,q as ve,s as ge,x as K,Z as W,y as Ae,z as De,A as Te,B as Ce,N as Pe,V as Oe,E as He,C as be,D as Ve,G as Fe,H as Qe,I as Le}from"./vendor.ba9ee158.js";const Me=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=o(l);fetch(l.href,i)}};Me();class Se{constructor(t,o){this.text=t,this.solvesQuest=o}}class ue{constructor(t){this.id=t}}class je{constructor(t,o,s,l,i,p){this.name=t,this.playerType=o,this.texts=s,this.useSocialActions=i,this.triggers=l,this.questId=p}}class Ne{constructor(t,o){this.x=t,this.y=o}}class Be{constructor(t,o,s,l,i){this.id=t,this.position=o,this.type=s,this.class=l,this.data=i}}class Je{constructor(t,o,s,l,i){this.id=t,this.source=o,this.target=s,this.sourceHandle=l,this.targetHandle=i}}class pe{}var oe=(e,t)=>{const o=e.__vccOpts||e;for(const[s,l]of t)o[s]=l;return o};const Ue={class:"save__controls"},Re={class:"btn"},ze={inheritAttrs:!1,data(){return{polling:0}},created(){this.onAutoLoad()},methods:{pollData(){this.polling=setInterval(()=>{this.onAutoSave(),console.log("Auto-Saving...")},5e3)},onCreate(){let e=new pe;this.$emit("json-file-loaded",{scenario:e,filename:"New Scenario.json"}),clearInterval(this.polling),this.pollData()},onFileChange(e){let t=e.target.files;t==null||!t.length||this.doSomethingWithTheFile(t[0])},onAutoSave(){if(this.$props.scenario!=null){let e=JSON.parse(JSON.stringify(this.$props.scenario));e.quests.forEach((t,o)=>{t.order=o}),e.conversations.forEach(t=>{t.nodes.forEach(o=>{if(o.type=="playerNode"){if(o.data.questId.id>-1){let l=e.quests.find(i=>i.id==o.data.questId.id);l!=null?o.data.questId.id=l.order:o.data.questId.id=-1}delete o.data.quests;let s=o.data.questId.id;delete o.data.questId,o.data.questId=s}else o.type=="npcNode"&&delete o.data.questId})}),e.quests.forEach(t=>{t.id=t.order,delete t.solved,delete t.order}),localStorage.setItem("dialog-editor-storage",JSON.stringify(e))}},onSave(){let e=prompt("Define your file name.");if(e!=null&&this.$props.scenario!=null){let o=JSON.parse(JSON.stringify(this.$props.scenario));o.quests.forEach((s,l)=>{s.order=l}),o.conversations.forEach(s=>{let l=[];s.nodes.forEach(i=>{if(i.type=="playerNode"){if(i.data.questId.id>-1){let v=o.quests.find(T=>T.id==i.data.questId.id);v!=null?i.data.questId.id=v.order:i.data.questId.id=-1}delete i.data.quests;let p=i.data.questId.id;delete i.data.questId,i.data.questId=p}else i.type=="npcNode"&&(l.includes(i.data.name)||l.push(i.data.name),delete i.data.questId)}),s.actors=[],s.actors=l}),o.quests.forEach(s=>{s.id=s.order,delete s.solved,delete s.order});var t=new Blob([JSON.stringify(o)],{type:"application/json"});Ee.exports.saveAs(t,e)}},onAutoLoad(){let e=localStorage.getItem("dialog-editor-storage");if(e!=null){let t=JSON.parse(e);t.conversations.forEach(o=>{o.nodes.forEach(s=>{let l=s.data.questId;s.data.questId=new ue(l)})}),this.$emit("json-file-loaded",{scenario:t,filename:"Auto-Saved dialog"}),clearInterval(this.polling),this.pollData()}},doSomethingWithTheFile(e){let t=new FileReader;t.onload=o=>{if(o.target!=null){let s=JSON.parse(String(o.target.result));s.conversations.forEach((l,i)=>{l.hasOwnProperty("id")||(l.id=i),l.hasOwnProperty("name")||(l.name="Dialog "+i);let p=new Map;l.nodes.forEach(v=>{if(v.id.indexOf("-")==-1){let T=Number(v.id.substring(4));p.set(v.id,"node"+i+"-"+T),v.id="node"+i+"-"+T}}),l.edges.forEach(v=>{p.has(v.source)&&p.has(v.target)&&(v.source=p.get(v.source),v.target=p.get(v.target))})}),s.conversations.forEach(l=>{l.nodes.forEach(i=>{let p=i.data.questId;i.data.questId=new ue(p)})}),this.$emit("json-file-loaded",{scenario:s,filename:e.name}),clearInterval(this.polling),this.pollData()}},t.readAsText(e)}},props:{scenario:pe}},Ye=B({...ze,__name:"Controls",setup(e){return(t,o)=>(f(),g("div",Ue,[a("label",{class:"btn",onClick:o[0]||(o[0]=(...s)=>t.onCreate&&t.onCreate(...s))},"Create scenario"),a("label",{class:"btn",onClick:o[1]||(o[1]=(...s)=>t.onSave&&t.onSave(...s))},"Save scenario"),a("label",Re,[a("input",{id:"hiddenInput",type:"file",onChange:o[2]||(o[2]=(...s)=>t.onFileChange&&t.onFileChange(...s))},null,32),fe(" Load scenario ")])]))}});var Ke=oe(Ye,[["__scopeId","data-v-9c75e91a"]]);const we=M(new Map);function $e(){function e(t,...o){we.value.set(t,o)}return{emit:e,bus:we}}const D=e=>(ve("data-v-14f144aa"),e=e(),ge(),e),We={class:"hidemenu"},Xe={key:0},Ze=D(()=>a("div",{class:"description"},"Current file being edited:",-1)),Ge=D(()=>a("hr",null,null,-1)),et={key:1},tt=D(()=>a("div",{class:"description"},"Here you can select the dialogs from this scenario",-1)),st=D(()=>a("hr",null,null,-1)),ot={class:"list-item"},nt=["onClick"],at=["onUpdate:modelValue"],lt={key:2},it=D(()=>a("div",{class:"description"},"Here you can see and edit the quests for the scenario",-1)),rt=D(()=>a("div",{class:"description small"},"Order them in cronological order (top to bottom) using the left handle to drag the quests.",-1)),dt=D(()=>a("hr",null,null,-1)),ct={class:"list-item"},ut=["disabled","onUpdate:modelValue"],pt={key:3},ft=D(()=>a("div",{class:"description"},"Here you can see and edit the briefing for the scenario",-1)),ht=D(()=>a("hr",null,null,-1)),vt={class:"sidemenu"},gt={key:0},_t=D(()=>a("div",{class:"description"},"You can drag these nodes to the pane.",-1)),yt=D(()=>a("hr",null,null,-1)),mt=D(()=>a("div",{class:"description"},"Player Nodes",-1)),xt=D(()=>a("hr",null,null,-1)),qt=D(()=>a("div",{class:"description"},"NPC Nodes",-1)),Ct=["onDragstart"],Nt={inheritAttrs:!1,mounted(){document.querySelectorAll("textarea").forEach(e=>{e.style.height="",e.style.height=e.scrollHeight+"px"})}},wt=B({...Nt,__name:"Sidebar",props:{scenario:pe,filename:String},emits:["dialogSelected"],setup(e,{expose:t,emit:o}){const s=e,{nodes:l,edges:i,addNodes:p,setNodes:v,setEdges:T,dimensions:I}=Ie(),m=(n,u,y,N)=>{n.dataTransfer&&(n.dataTransfer.setData("application/vueflow",u),n.dataTransfer.setData("application/nodeClass",y),n.dataTransfer.setData("application/npcName",N),n.dataTransfer.effectAllowed="move")};let x=null,q=M(null);M(null);let V=1e3;const ne=()=>{x=null,q.value=null,v([]),T([])};t({reset:ne});const J=(n,u=!0)=>{u&&ne(),x=n,q.value=n.id,console.log(n),o("dialogSelected",n.id),u&&(v(n.nodes),T(n.edges))},ae=()=>{if(s.scenario!=null){let n={id:s.scenario.conversations.length,name:"Dialog "+s.scenario.conversations.length,nodes:new Array,edges:new Array,actors:new Array};s.scenario.conversations.push(n)}},G=()=>{var n;if(x!=null){console.log(x);let u=prompt("Please enter the new NPC name","");(n=x.actors)==null||n.push(u)}},le=n=>{if(s.scenario!=null){let u=s.scenario.conversations.find(y=>y.id==q.value);s.scenario.conversations.forEach((y,N)=>{y.id=N}),u!=null&&J(u,!1)}},_=()=>{if(s.scenario!=null){V=V*2;let n={id:V,navigationPoint:{x:0,y:0,z:0},quest:"",questType:0,solved:!1};s.scenario.quests.push(n)}},ie=n=>{if(s.scenario!=null){let u=s.scenario.quests.find(N=>N.id==n),y=s.scenario.quests.indexOf(u);s.scenario.quests.splice(y,1)}},re=n=>{if(s.scenario!=null){let u=s.scenario.conversations.find(r=>r.id==n),y=s.scenario.conversations.indexOf(u),N=s.scenario.conversations.find(r=>r.id==q.value);s.scenario.conversations.splice(y,1),s.scenario.conversations.forEach((r,w)=>{r.name=="Dialog "+r.id&&(r.name="Dialog "+w),r.id=w}),n==q.value?J(s.scenario.conversations[0]):J(N)}},{bus:de}=$e(),U=new Map;return ke(()=>de.value.get("questChange"),n=>{var u,y;U.clear(),(u=s.scenario)==null||u.conversations.forEach(N=>{N.nodes.forEach(r=>{let w=!1;r.data.texts.forEach(d=>{d.solvesQuest&&(w=!0)}),w&&U.set(r.data.questId.id,!0)})}),(y=s.scenario)==null||y.quests.forEach(N=>{U.get(N.id)==!0?N.solved=!0:N.solved=!1})}),(n,u)=>{const y=me("font-awesome-icon"),N=me("container");return f(),g(X,null,[a("div",We,[A(N,null,{default:ee(()=>[e.scenario!=null?(f(),g("aside",Xe,[Ze,Ge,a("div",null,te(e.filename),1)])):P("",!0),e.scenario!=null?(f(),g("aside",et,[tt,st,A(h(xe),{class:"list-container",list:e.scenario.conversations,"item-key":"id",handle:".handle",onEnd:le},{item:ee(({element:r})=>[a("div",ot,[A(y,{icon:"grip",class:"handle"}),a("div",{class:qe(["vue-flow__node-default dialog-wrapper",{active:r.id===h(q)}]),onClick:w=>J(r)},[Y(a("textarea",{class:"dialog-name",name:"dialog","onUpdate:modelValue":w=>r.name=w,rows:"1"},null,8,at),[[ce,r.name]])],10,nt),A(y,{icon:"trash",style:{cursor:"pointer"},onClick:w=>re(r.id)},null,8,["onClick"])])]),_:1},8,["list"]),a("button",{onClick:ae},"Add Dialog")])):P("",!0),e.scenario!=null?(f(),g("aside",lt,[it,rt,dt,A(h(xe),{class:"list-container",list:e.scenario.quests,"item-key":"id",handle:".handle"},{item:ee(({element:r})=>[a("div",ct,[A(y,{icon:"grip",class:"handle"}),Y(a("textarea",{class:qe(["quest-name",{solved:r.solved==!0}]),disabled:r.questType!=0,name:"quest","onUpdate:modelValue":w=>r.quest=w,rows:"",oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},null,10,ut),[[ce,r.quest]]),r.questType==0?(f(),he(y,{key:0,icon:"trash",style:{cursor:"pointer"},onClick:w=>ie(r.id)},null,8,["onClick"])):P("",!0)])]),_:1},8,["list"]),a("button",{onClick:_},"Add Quest")])):P("",!0),e.scenario!=null?(f(),g("aside",pt,[ft,ht,Y(a("textarea",{class:"briefing-name",name:"briefing",id:"briefing","onUpdate:modelValue":u[0]||(u[0]=r=>e.scenario.briefing=r),rows:"10"},null,512),[[ce,e.scenario.briefing]])])):P("",!0)]),_:1})]),a("div",vt,[h(q)!=null?(f(),g("aside",gt,[_t,yt,mt,a("div",{class:"vue-flow__node-default player1",draggable:!0,onDragstart:u[1]||(u[1]=r=>m(r,"playerNode","player1"))}," Player1 Node ",32),a("div",{class:"vue-flow__node-default player2",draggable:!0,onDragstart:u[2]||(u[2]=r=>m(r,"playerNode","player2"))}," Player2 Node ",32),a("div",{class:"vue-flow__node-default playerAll",draggable:!0,onDragstart:u[3]||(u[3]=r=>m(r,"playerNode","playerAll"))}," All Players Node ",32),xt,qt,(f(!0),g(X,null,se(e.scenario.conversations[h(q)].actors,(r,w)=>(f(),g("div",{key:w,class:"vue-flow__node-default npc",draggable:!0,onDragstart:d=>m(d,"npcNode","npc",r)},te(r),41,Ct))),128)),a("button",{onClick:G},"Add NPC")])):P("",!0)])],64)}}});var It=oe(wt,[["__scopeId","data-v-14f144aa"]]);const _e=e=>(ve("data-v-7f104340"),e=e(),ge(),e),bt={style:{position:"relative"}},St=_e(()=>a("hr",null,null,-1)),$t=_e(()=>a("div",null," Responses: ",-1)),Et={id:"texts-npcs"},kt=["value","onInput"],At=["onClick"],Dt=_e(()=>a("br",null,null,-1)),Tt={key:0,class:"footer"},Pt={inheritAttrs:!1,mounted(){document.querySelectorAll("textarea").forEach(e=>{e.style.height="",e.style.height=e.scrollHeight+"px"})}},Ot=B({...Pt,__name:"NPCNode",props:{id:null,data:null},setup(e){const t=e,o={background:"#555",position:"absolute",top:"20px"};({...o});const s=()=>{let p=new Se("",!1);t.data.texts.push(p)},l=(p,v)=>{t.data.texts[v].text=p.target.value},i=p=>{t.data.texts.splice(p,1)};return(p,v)=>(f(),g("div",bt,[A(h(W),{type:"target",id:"gi1",position:h(K).Left,style:o,"on-connect":t.data.onConnect},null,8,["position","on-connect"]),A(h(W),{type:"source",id:"go1",position:h(K).Right,style:o,"on-connect":t.data.onConnect},null,8,["position","on-connect"]),a("div",null,[fe(" NPC - "),a("strong",null,te(e.data.name),1)]),St,$t,a("ul",Et,[(f(!0),g(X,null,se(e.data.texts,(T,I)=>(f(),g("li",{key:I,style:{position:"relative"}},[a("textarea",{class:"nodrag",value:e.data.texts[I].text,onInput:m=>l(m,I),oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},null,40,kt),a("span",{onClick:m=>i(I)},"x",8,At)]))),128))]),Dt,a("button",{onClick:s},"Add text"),t.data.fullfilsQuest?(f(),g("div",Tt,"Fullfils Quest")):P("",!0)]))}});var Ht=oe(Ot,[["__scopeId","data-v-7f104340"]]);const Z=e=>(ve("data-v-7268bd4c"),e=e(),ge(),e),Vt={style:{position:"relative"}},Ft={key:0},Qt={key:1},Lt={key:2},Mt=Z(()=>a("hr",null,null,-1)),jt=Z(()=>a("div",null," Responses: ",-1)),Bt={id:"texts-npcs"},Jt=["onUpdate:modelValue"],Ut=["value","onInput"],Rt=["onClick"],zt=Z(()=>a("br",null,null,-1)),Yt=Z(()=>a("hr",null,null,-1)),Kt=Z(()=>a("option",{value:"-1"},"None",-1)),Wt=["value"],Xt={inheritAttrs:!1,mounted(){document.querySelectorAll("textarea").forEach(e=>{e.style.height="",e.style.height=e.scrollHeight+"px"})}},Zt=B({...Xt,__name:"PlayerNode",props:{id:null,data:null},setup(e){const t=e,{emit:o}=$e(),s={background:"#555",position:"absolute",top:"20px"},l={...s,position:"relative",left:"15px",top:"0px",transform:"0"},i=()=>{let I=new Se("",!1);t.data.texts.push(I)},p=(I,m)=>{t.data.texts[m].text=I.target.value},v=I=>{t.data.texts.splice(I,1)},T=()=>{let I=!1;t.data.texts.forEach((x,q)=>{x.solvesQuest&&(I=!0)});let m={isSolved:I,questId:t.data.questId.id};o("questChange",m)};return(I,m)=>(f(),g("div",Vt,[A(h(W),{type:"target",id:"gi1",position:h(K).Left,style:s,"on-connect":t.data.onConnect},null,8,["position","on-connect"]),A(h(W),{type:"source",id:"go1",position:h(K).Right,style:s,"on-connect":t.data.onConnect},null,8,["position","on-connect"]),a("div",null,[t.data.playerType=="player1"?(f(),g("strong",Ft,"Player 1")):P("",!0),t.data.playerType=="player2"?(f(),g("strong",Qt,"Player 2")):P("",!0),t.data.playerType=="playerAll"?(f(),g("strong",Lt,"All Players")):P("",!0)]),Mt,jt,a("ul",Bt,[(f(!0),g(X,null,se(e.data.texts,(x,q)=>(f(),g("li",{key:q,style:{position:"relative"}},[e.data.questId.id!=-1?Y((f(),g("input",{key:0,type:"checkbox","onUpdate:modelValue":V=>e.data.texts[q].solvesQuest=V,onChange:m[0]||(m[0]=V=>T())},null,40,Jt)),[[Ae,e.data.texts[q].solvesQuest]]):P("",!0),a("textarea",{class:"nodrag",value:e.data.texts[q].text,onInput:V=>p(V,q),oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"'},null,40,Ut),A(h(W),{id:"p"+q,type:"source",position:h(K).Right,style:l},null,8,["id","position"]),a("span",{onClick:V=>v(q)},"x",8,Rt)]))),128))]),zt,a("button",{onClick:i},"Add response"),Yt,a("div",null,[fe(" Quest: "),e.data.quests!=null?Y((f(),g("select",{key:0,"onUpdate:modelValue":m[1]||(m[1]=x=>e.data.questId.id=x),style:{"max-width":"170px"},onChange:m[2]||(m[2]=x=>T())},[Kt,(f(!0),g(X,null,se(e.data.quests.filter(x=>x.questType==0),x=>(f(),g("option",{value:x.id,key:x.id},[a("span",null,te(x.quest),1)],8,Wt))),128))],544)),[[De,e.data.questId.id]]):P("",!0)])]))}});var Gt=oe(Zt,[["__scopeId","data-v-7268bd4c"]]);const es=B({__name:"Flow",setup(e){let t=new Map;const{selectionKeyCode:o,project:s,onConnect:l,nodes:i,edges:p,addEdges:v,addNodes:T,setNodes:I,setEdges:m,onEdgesChange:x,onNodesChange:q,setTranslateExtent:V,setState:ne,store:J,setTransform:ae}=Ie();Te(()=>{o.value=null});let G=0;const le=()=>`node${_.value}-${G++}`;let _=M(null);q(d=>{p.value.forEach(c=>{delete c.selected}),d.forEach(c=>{var b,k,F,H;if(n.value!=null&&_.value!=null){if(c.type==="position"){let S=n.value.conversations[_.value].nodes.findIndex(function($){return $.id==c.id});if(S>=0){let $=n.value.conversations[_.value].nodes[S].position;console.log("old "+$.x+"-"+$.y),((b=c.position)==null?void 0:b.x)!=null&&((k=c.position)==null?void 0:k.y)!=null&&(n.value.conversations[_.value].nodes[S].position=new Ne((F=c.position)==null?void 0:F.x,(H=c.position)==null?void 0:H.y))}}else if(c.type==="remove"){let S=n.value.conversations[_.value].nodes.findIndex(function($){return $.id==c.id});n.value.conversations[_.value].nodes.splice(S,1)}}})}),x(d=>{i.value.forEach(c=>{delete c.selected}),d.forEach(c=>{if(c.type==="remove"&&n.value!=null&&_.value!=null){let b=n.value.conversations[_.value].edges.findIndex(function(k){return k.id==c.id});n.value.conversations[_.value].edges.splice(b,1)}})}),l(d=>{if(v([d]),n.value!=null&&_.value!=null){let c="edge-"+d.source+d.sourceHandle+"-"+d.target+d.targetHandle;n.value.conversations[_.value].edges.push(new Je(c,d.source,d.target,d.sourceHandle,d.targetHandle))}});const ie=d=>{d.preventDefault(),d.dataTransfer&&(d.dataTransfer.dropEffect="move")},re=d=>{},de=d=>{var C,Q,j,R,z,ye;const c=(C=d.dataTransfer)==null?void 0:C.getData("application/vueflow");if(c=="")return;const b=le(),k=[],F=[],H=new ue(-1),S=(Q=d.dataTransfer)==null?void 0:Q.getData("application/nodeClass"),$=(j=d.dataTransfer)==null?void 0:j.getData("application/npcName"),L=s({x:d.clientX,y:d.clientY-40}),E={id:b,type:c,class:S,data:{onChange:re,onConnect:l,name:$,texts:k,playerType:S,questId:H,quests:(R=n.value)==null?void 0:R.quests},connectable:!0,position:L,label:`${c} node`};T([E]),console.log(E);let O=new Be(b,new Ne(L.x,L.y),c,S,new je($,S,k,F,!1,H));O.data.quests=(z=n.value)==null?void 0:z.quests,(ye=n.value)==null||ye.conversations[_.value].nodes.push(O),console.log(O)},U={npcNode:Ce(Ht),playerNode:Ce(Gt)},n=M(null),u=M(null),y=M(null),N=d=>{var b,k,F,H,S,$,L;n.value=null,n.value=d.scenario,u.value=null,u.value=d.filename,t.clear(),((b=n.value)==null?void 0:b.conversations)==null&&(n.value.conversations=new Array),(k=n.value)==null||k.conversations.forEach(E=>{E.nodes.forEach((O,C)=>{var Q;t.set(C,[]),O.type=="playerNode"&&(O.data.quests=(Q=n.value)==null?void 0:Q.quests)})}),((F=n.value)==null?void 0:F.quests)==null&&(n.value.quests=new Array),(H=n.value)==null||H.quests.forEach(E=>{E.solved=!1});const c=new Map;(S=n.value)==null||S.conversations.forEach(E=>{E.nodes.forEach(O=>{let C=!1;O.data.texts.forEach(Q=>{Q.solvesQuest&&(C=!0)}),C&&c.set(O.data.questId.id,!0)})}),($=n.value)==null||$.quests.forEach(E=>{c.get(E.id)==!0?E.solved=!0:E.solved=!1}),_.value=null,(L=y.value)==null||L.reset()},r=d=>{var F,H,S,$,L,E,O;_.value=d;let c=0;(F=n.value)==null||F.conversations[d].nodes.forEach((C,Q)=>{let j=+C.id.indexOf("-")+1;Number(C.id.substring(j))>c,c=Number(C.id.substring(j))}),G=+c+1;let b=0,k=0;if((($=(S=(H=n.value)==null?void 0:H.conversations[d])==null?void 0:S.nodes)==null?void 0:$.length)>0){const C=(L=n.value)==null?void 0:L.conversations[d].nodes.reduce((R,z)=>R.position.x<z.position.x?R:z);let Q=+((E=C==null?void 0:C.position)==null?void 0:E.x)*-1,j=+((O=C==null?void 0:C.position)==null?void 0:O.y)*-1;b=+Q+450,k=+j+200,console.log("positions"),console.log(b+"-"+k)}ae({x:b+250,y:k+200,zoom:1})};let w=M(t);return(d,c)=>(f(),g("div",{class:"dndflow",onDrop:de},[h(_)!=null?(f(),he(h(He),{key:0,modelValue:h(w)[h(_).value],"onUpdate:modelValue":c[0]||(c[0]=b=>h(w)[h(_).value]=b),onDragover:ie,"node-types":U},{default:ee(()=>[A(h(Pe),{variant:h(Oe).Lines,"pattern-color":"#4d4d4d",gap:"25"},null,8,["variant"])]),_:1},8,["modelValue"])):P("",!0),A(Ke,{scenario:h(n),onJsonFileLoaded:N},null,8,["scenario"]),A(It,{scenario:h(n),filename:h(u),onDialogSelected:r,ref_key:"sideBar",ref:y},null,8,["scenario","filename"])],32))}});const ts=B({__name:"App",setup(e){return window.onbeforeunload=function(t){return t=t||window.event,t&&(t.returnValue="Any string"),"Any string"},(t,o)=>(f(),he(es))}});be.add(Ve);be.add(Fe);Qe(ts).component("font-awesome-icon",Le).mount("#app");
